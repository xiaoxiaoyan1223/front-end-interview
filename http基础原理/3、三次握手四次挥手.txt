#三次握手
客户端发送SYN=1和随机初始序号seq=x给服务器，客户端进入SYN_SENT状态，等待服务器确认
服务器收到SYN=1，发送SYN=1和确认号ack=x+1给客户端，服务器进入SYN_RCVD状态
客户端收到ack=x+1，发送确认号ack=x+1给服务器，客户端进入ESTABLISHED状态
服务器收到ack=x+1，进入ESTABLISHED状态，完成三次握手

#为什么要进行三次握手
1、防止已失效的连接请求报文突然又传送到了服务端，因而产生错误
2、客户端没有收到服务器的确认报文，那么客户端会重新发送连接请求，直到收到服务器的确认报文

#四次挥手
客户端发送FIN=1，序号seq=u，进入FIN_WAIT_1状态
服务器收到FIN=1，发送ACK=1，ack=u+1给客户端，进入CLOSE_WAIT状态
服务器发送FIN=1，序号seq=v，进入LAST_ACK状态
客户端收到ACK=1，ack=u+1，进入TIME_WAIT状态，发送ACK=1，ack=v+1给服务器
服务器收到ACK=1，ack=v+1，进入CLOSED状态
客户端等待2MSL后，进入CLOSED状态

#为什么需要四次挥手
1、确保客户端发送的最后一个ACK报文能够到达服务器，因为这个ACK报文可能丢失，使得服务器无法正常关闭
2、确保服务器发送的最后一个ACK报文能够到达客户端，因为这个ACK报文可能丢失，使得客户端无法正常关闭
3、等待2MSL时间主要是怕最后一个ACK报文对方没有收到，那么对方在超时之后会重发这个ACK报文，客户端会在2MSL时间内收到这个重发的ACK报文，接着进入TIME_WAIT状态，接着重发一次ACK报文，服务器收到这个ACK报文之后，就知道可以关闭连接了